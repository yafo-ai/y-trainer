import"./lodash-CNPm4k7W.js";import{_ as J,d as O}from"./index-DvaJYu1w.js";import{c as U}from"./changeModel-DHxmR1HF.js";import{r as i,w as B,p as d,t as s,S as c,U as r,O as m,ai as p,Q as M,J as g,T as q,P as z,aq as T,q as v}from"./vue-CQnFr7Mm.js";import"./element-DYg7Q49L.js";import"./fselect-B0rI_y1k.js";const $={class:"page-index c-text-left"},E={class:"module-header"},F={class:"model"},I={class:"c-cardtitlebox c-rowbox"},P={class:"titlebox"},Q={class:"rbtns"},G={class:"inpbox"},H={class:"item"},K={class:"item"},R={class:"contentbox"},W={key:0,class:"fas fa-check-circle"},X={key:1,class:"fas fa-exclamation-circle"},Y={class:"c-cardtitlebox c-rowbox"},Z={"element-loading-text":"加载中...",class:"contentbox"},ee={key:0,class:"curoutbox"},se={key:1,class:"empty-state"},le={__name:"clusters",setup(te){const a=i({data:[],is_attent:!0,score_threshold:1500}),_=i(null),o=i(""),n=i(""),l=i(!1),f=i(!1),A=async t=>{if(!b())return!1;f.value=!0,a.value.data=JSON.parse(o.value),O(a.value).then(e=>{e.code==200&&(_.value=e.data),f.value=!1}).catch(e=>{f.value=!1})};B(()=>o.value,t=>{b()});const h=()=>{o.value="",a.value.score_threshold=1500,a.value.is_attent=!0},b=()=>{if(console.log(o.value),!o.value)return n.value="请先输入数据",l.value=!1,!1;try{let t=JSON.parse(o.value);return Array.isArray(t)?t.length>0?(a.value.data=t,n.value="有效的JSON数组，包含"+t.length+"个元素",l.value=!0,!0):(n.value="数组不能为空，至少需要一个元素",l.value=!1,!1):(n.value='输入必须是数组格式，例如：["文本1", "文本2"]',l.value=!1,!1)}catch{return n.value="JSON格式错误：存在语法错误，请检查引号、逗号是否正确",l.value=!1,!1}},y=i("./big-models/"),w=i(!1),V=t=>{y.value=t.val,w.value=!1},k=i(JSON.stringify(["用户正在浏览：爱普生L3256三合一彩色喷墨打印机（A4）[产品id:5A2655]用户：连续能打印多长时间","用户正在浏览：爱普生L3256三合一彩色喷墨机（A4）[产品id:5A2655]用户：3253呢","用户正在浏览：爱普生L11058墨仓式彩色喷墨打印机（A3）[产品id:5A2679]用户：这个能自动打双面吗？","用户正在浏览：爱普生L11058墨仓式彩色喷墨打印机（A3）[产品id:5A2679]用户：自动双面吗？","用户正在浏览：爱普生L3256三合一彩色喷墨打印机（A4）[产品id:5A2655]用户：连续打印？","用户正在浏览：爱普生L3256三合一彩色喷墨打印机（A4）[产品id:5A2655]用户：用啥耗材","用户正在浏览：爱普生L3256三合一彩色喷墨打印机（A4）[产品id:5A2655]用户：使用什么耗材","用户正在浏览：爱普生L3256三合一彩色喷墨打印机（A4）[产品id:5A2655]用户：适用什么耗材？","用户正在浏览：爱普生L3256三合一彩色喷墨打印机（A4）[产品id:5A2655]用户：耗材型号"],null,2));return(t,e)=>{const x=p("el-button"),L=p("el-switch"),N=p("el-input-number"),S=p("el-input"),D=p("json-viewer"),C=p("el-scrollbar"),j=T("loading");return v(),d("div",$,[s("div",E,[e[5]||(e[5]=s("h1",{class:"module-title"},[s("i",{class:"fas fa-project-diagram"}),c(" 聚类筛选 ")],-1)),s("div",F,[r(U,{val:y.value,onSubfn:V},null,8,["val"])])]),s("div",I,[s("div",P,[s("span",null,[e[7]||(e[7]=s("i",{class:"fas fa-database"},null,-1)),e[8]||(e[8]=c(" 目标数据输入 ")),r(x,{style:{"margin-left":"10px"},onClick:e[0]||(e[0]=u=>o.value=k.value),size:"small",type:"info"},{default:m(()=>e[6]||(e[6]=[s("i",{class:"fas fa-file-import"},null,-1),c(" 示例")])),_:1})]),s("div",Q,[s("div",G,[s("div",H,[e[9]||(e[9]=s("span",{class:"label"},"是否开启注意力特征提取:",-1)),r(L,{modelValue:a.value.is_attent,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.is_attent=u)},null,8,["modelValue"])]),s("div",K,[e[10]||(e[10]=s("span",{class:"label"},"过滤分数:",-1)),r(N,{onFocus:e[2]||(e[2]=u=>u.target.select()),style:{width:"80px",display:"inline-block"},modelValue:a.value.score_threshold,"onUpdate:modelValue":e[3]||(e[3]=u=>a.value.score_threshold=u),placeholder:"请填写topk",min:0,controls:!1},null,8,["modelValue"])])]),r(x,{onClick:h,tabindex:"-1",style:{float:"right"},type:"info"},{default:m(()=>e[11]||(e[11]=[c("重置")])),_:1}),r(x,{onClick:A,tabindex:"-1",style:{float:"right"},type:"primary"},{default:m(()=>e[12]||(e[12]=[s("i",{class:"fas fa-project-diagram"},null,-1),c(" 聚类")])),_:1})])]),s("div",R,[r(S,{class:g(["c-textarea",{"c-danger":!l.value&&n.value,"c-success":l.value&&n.value}]),modelValue:o.value,"onUpdate:modelValue":e[4]||(e[4]=u=>o.value=u),style:{width:"100%"},rows:14,type:"textarea",placeholder:""},null,8,["class","modelValue"]),n.value?(v(),d("div",{key:0,class:g(["validation-message",{error:!l.value,success:l.value}])},[l.value?(v(),d("i",W)):(v(),d("i",X)),c(q(n.value),1)],2)):M("",!0)])]),s("div",Y,[e[14]||(e[14]=s("div",{class:"titlebox"},[s("span",null,[s("i",{class:"fas fa-compress-alt"}),c(" 聚类结果")])],-1)),z((v(),d("div",Z,[r(C,{"max-height":"600"},{default:m(()=>[_.value?(v(),d("div",ee,[r(D,{"show-array-index":!0,sort:"","expand-depth":3,value:_.value},null,8,["value"])])):(v(),d("div",se,e[13]||(e[13]=[s("i",{class:"fas fa-project-diagram"},null,-1),s("p",null,'请输入数据并点击"聚类"按钮',-1)])))]),_:1})])),[[j,f.value]])]),e[15]||(e[15]=s("br",null,null,-1))])}}},ce=J(le,[["__scopeId","data-v-69a5c92b"]]);export{ce as default};
